<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—ç–†ç¯çº¿äº¤äº’å¼æ¢ç´¢æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Subtle Greens -->
    <!-- Application Structure Plan: A non-linear, task-oriented SPA. The core is a sticky top navigation that controls the main content view, switching between: 1. Itinerary Overview (interactive timeline + driving chart), 2. Pre-trip Prep (collapsible sections), 3. Attraction Guide (filterable grid), and 4. Budget Estimator (interactive calculator). This structure is chosen over a linear report to empower users to quickly access information based on their current task (e.g., "what to pack?" or "how much will it cost?") rather than forcing them to read sequentially. It prioritizes usability and quick reference. -->
    <!-- Visualization & Content Choices: 
        - Itinerary: Goal=Show journey flow. Method=Interactive timeline (HTML/CSS/JS) + Bar Chart (Chart.js). Interaction=Click to expand details. Justification=More engaging and scannable than a long text list. The chart visualizes daily travel load.
        - Key Data (Tickets/Rules): Goal=Inform. Method=HTML tables within expandable sections. Interaction=Revealed on demand. Justification=Avoids information overload.
        - Preparatory Info: Goal=Organize. Method=Collapsible accordions (HTML/JS). Interaction=Click to toggle. Justification=Clean, structured presentation.
        - Budget: Goal=Provide practical tool. Method=Interactive form with sliders (HTML/JS). Interaction=Real-time calculation. Justification=Adds high utility and engagement.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #fdfaf6;
            color: #4a4a4a;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 250px;
            max-height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 350px;
            }
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active {
            color: #1e40af;
            border-bottom-color: #1e40af;
        }
        .nav-link:hover {
            color: #1d4ed8;
        }
        .day-card {
            transition: all 0.3s ease;
            border-left: 4px solid #d1d5db;
        }
        .day-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            border-left-color: #3b82f6;
        }
        .details-content {
            transition: max-height 0.5s ease-in-out, padding 0.5s ease-in-out;
            max-height: 0;
            overflow: hidden;
        }
        .details-content.open {
            max-height: 2000px;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        .btn-filter {
            transition: all 0.2s ease;
        }
        .btn-filter.active {
            background-color: #1e40af;
            color: white;
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 py-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800 mb-2">ç»ˆæåŒ—ç–†ç¯çº¿</h1>
            <p class="text-xl text-gray-600">ä»¥ç‹¬åº“å…¬è·¯ä¸ºæ ¸å¿ƒçš„11æ—¥è‡ªé©¾äº¤äº’å¼æ¢ç´¢æŒ‡å—</p>
        </header>

        <nav id="mainNav" class="sticky top-0 z-10 bg-white/80 backdrop-blur-sm shadow-md rounded-lg mb-8">
            <div class="max-w-4xl mx-auto px-4">
                <div class="flex justify-center space-x-4 md:space-x-8 py-3">
                    <button data-target="overview" class="nav-link active font-medium px-2 py-2 text-sm md:text-base">è¡Œç¨‹æ¦‚è§ˆ</button>
                    <button data-target="prep" class="nav-link font-medium px-2 py-2 text-sm md:text-base">è¡Œå‰å‡†å¤‡</button>
                    <button data-target="attractions" class="nav-link font-medium px-2 py-2 text-sm md:text-base">æ™¯ç‚¹é€ŸæŸ¥</button>
                    <button data-target="budget" class="nav-link font-medium px-2 py-2 text-sm md:text-base">é¢„ç®—ä¼°ç®—</button>
                </div>
            </div>
        </nav>

        <main id="mainContent">

            <section id="overview" class="content-section">
                <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                    <h2 class="text-2xl font-bold mb-4 text-center text-gray-800">è¡Œç¨‹å“²å­¦ï¼šç‹¬åº“ä¼˜å…ˆ</h2>
                    <p class="text-gray-700 leading-relaxed text-center max-w-3xl mx-auto">
                        æœ¬æ–¹æ¡ˆçš„ç²¾é«“åœ¨äºï¼Œå°†æ•´ä¸ªæ—…ç¨‹çš„â€œé«˜æ½®â€â€”â€”ç©¿è¶Šä¼ å¥‡çš„ç‹¬åº“å…¬è·¯ï¼Œæ”¾åœ¨äº†ç²¾åŠ›æœ€å……æ²›çš„ä¸­æ®µã€‚é€šè¿‡æˆ˜ç•¥æ€§æ”¾å¼ƒä¼ŠçŠå—éƒ¨çš„å¤å¡”ä¸ç‰¹å…‹æ–¯ï¼Œæˆ‘ä»¬ç¡®ä¿äº†è·¯çº¿çš„æµç•…æ€§ä¸æ—¶é—´çš„åˆç†æ€§ï¼Œä»è€Œæå¤§åœ°æå‡äº†æ‚¨åœ¨ç‹¬åº“å…¬è·¯ã€é‚£æ‹‰æã€èµ›é‡Œæœ¨æ¹–ç­‰æ ¸å¿ƒæ™¯åŒºçš„ä½“éªŒè´¨é‡ã€‚
                    </p>
                </div>

                <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
                    <h2 class="text-2xl font-bold mb-4 text-center text-gray-800">æ¯æ—¥é©¾é©¶å¼ºåº¦æ¦‚è§ˆ</h2>
                     <p class="text-center text-gray-500 mb-4">ç›´è§‚æ„Ÿå—æ¯æ—¥çš„è¡Œè½¦è·ç¦»ï¼Œåˆç†åˆ†é…ä½“åŠ›ã€‚</p>
                    <div class="chart-container">
                        <canvas id="drivingChart"></canvas>
                    </div>
                </div>
                
                <div id="itinerary" class="space-y-6">
                </div>
            </section>

            <section id="prep" class="content-section hidden">
            </section>

            <section id="attractions" class="content-section hidden">
            </section>

            <section id="budget" class="content-section hidden">
            </section>

        </main>
    </div>

    <script>
        const appData = {
            itinerary: [
                { day: 1, date: "8æœˆ12æ—¥", route: "æŠµè¾¾ä¹Œé²æœ¨é½", distance: 0, activities: "èˆªç­æŠµè¾¾ï¼ŒåŠç†æè½¦æ‰‹ç»­ï¼Œå…¥ä½é…’åº—ã€‚ä¸ºé•¿é€”æ—…è¡Œåšå¥½æœ€åçš„ç‰©èµ„å‡†å¤‡ã€‚", food: "å½“åœ°ç‰¹è‰²çƒ§çƒ¤æˆ–æ‹Œé¢", stay: "ä¹Œé²æœ¨é½å¸‚åŒºé…’åº—ï¼ˆå¦‚ï¼šé”¡æ—éƒ­å‹’å®¾é¦†ï¼‰" },
                { day: 2, date: "8æœˆ13æ—¥", route: "ä¹Œé²æœ¨é½ â†’ å¸ƒå°”æ´¥", distance: 650, activities: "ä¸Šåˆæ²¿S21æ²™æ¼ é«˜é€ŸåŒ—ä¸Šï¼Œæ„Ÿå—æˆˆå£é£å…‰ã€‚å‚æ™šæŠµè¾¾äº”å½©æ»©ï¼Œæ‹æ‘„é¢å°”é½æ–¯æ²³ç•”çš„æ—¥è½ç†”é‡‘ã€‚", food: "å¸ƒå°”æ´¥æ²³å ¤å¤œå¸‚å“å°å†·æ°´çƒ¤é±¼å’Œæ ¼ç“¦æ–¯", stay: "å¸ƒå°”æ´¥å¿åŸé…’åº—ï¼ˆå¦‚ï¼šå¸ƒå°”æ´¥å¤œå…‰åŸå‡æ—¥é…’åº—ï¼‰" },
                { day: 3, date: "8æœˆ14æ—¥", route: "å¸ƒå°”æ´¥ â†’ å–€çº³æ–¯", distance: 120, activities: "ä¸Šåˆå‡ºå‘ï¼Œä¸­åˆæŠµè¾¾è´¾ç™»å³ªã€‚æ¢ä¹˜åŒºé—´è½¦è¿›å…¥å–€çº³æ–¯æ™¯åŒºï¼Œä¸‹åˆæ¸¸è§ˆä¸‰æ¹¾ï¼ˆç¥ä»™æ¹¾ã€æœˆäº®æ¹¾ã€å§é¾™æ¹¾ï¼‰ï¼Œå‚æ™šç™»è§‚é±¼å°çœ‹å…¨æ™¯ã€‚", food: "æ™¯åŒºå†…æ°‘å®¿é¤å…è§£å†³ï¼Œå“å°å›¾ç“¦ç‰¹è‰²èœ", stay: "å–€çº³æ–¯æ™¯åŒºå†…å›¾ç“¦å°æœ¨å±‹ï¼ˆå¦‚ï¼šåœ¨å±±é‡Â·èµçº³åº¦å‡æ°‘å®¿ï¼‰" },
                { day: 4, date: "8æœˆ15æ—¥", route: "å–€çº³æ–¯ â†’ ç¦¾æœ¨", distance: 60, activities: "ä¸Šåˆå¯ä½“éªŒå–€çº³æ–¯æ¹–æ¸¸èˆ¹æˆ–åœ¨æ¹–è¾¹æ ˆé“æ¼«æ­¥ã€‚ä¸‹åˆæ¢ä¹˜åŒºé—´è½¦å‰å¾€ç¦¾æœ¨æ‘ï¼Œå®‰é¡¿åç™»ä¸Šè§‚æ™¯å¹³å°æ‹æ‘„æ—¥è½ä¸æ‘åº„å…¨æ™¯ã€‚", food: "ç¦¾æœ¨æ‘å†…é¤å…ï¼Œå¯å°è¯•åœŸç«é”…", stay: "ç¦¾æœ¨æ‘ç‰¹è‰²æœ¨å±‹ï¼ˆå¦‚ï¼šç¦¾æœ¨äº‘å¢…æœ¨å±‹ï¼‰" },
                { day: 5, date: "8æœˆ16æ—¥", route: "ç¦¾æœ¨ â†’ ä¹Œå°”ç¦¾/å¥å±¯", distance: 450, activities: "æ¸…æ™¨åŠ¡å¿…å†ä¸Šè§‚æ™¯å¹³å°æ‹æ‘„ç¦¾æœ¨æ™¨é›¾ã€‚ä¹‹åé©¾è½¦å—ä¸‹ï¼Œå‚æ™šæ¸¸è§ˆä¹Œå°”ç¦¾ä¸–ç•Œé­”é¬¼åŸï¼Œæ¬£èµé›…ä¸¹åœ°è²Œçš„æ—¥è½å…‰å½±ã€‚", food: "ä¹Œå°”ç¦¾é•‡æˆ–å¥å±¯å¸‚æ™šé¤ï¼Œå“å°å¤§ç›˜é¸¡æˆ–ä¸¸å­æ±¤", stay: "ä¹Œå°”ç¦¾é•‡æˆ–å¥å±¯å¸‚é…’åº—ï¼ˆå¦‚ï¼šå¥å±¯ä¸Šä¸œæ¹–å¤§é…’åº—ï¼‰" },
                { day: 6, date: "8æœˆ17æ—¥", route: "å¥å±¯ â†’ é‚£æ‹‰æé•‡", distance: 250, activities: "æœ¬æ—¥æ ¸å¿ƒï¼šç©¿è¶Šç‹¬åº“å…¬è·¯åŒ—æ®µã€‚ä½“éªŒâ€œä¸€æ—¥å››å­£â€çš„å¥‡æ™¯ï¼Œä»å³¡è°·åˆ°é›ªå±±å†åˆ°è‰åŸï¼Œè¾¹èµ°è¾¹ç©ï¼Œå‚æ™šæŠµè¾¾é‚£æ‹‰æã€‚", food: "é‚£æ‹‰æé•‡å“å°å“ˆè¨å…‹æ—ç¾é£Ÿï¼Œå¦‚æ‰‹æŠ“è‚‰ã€å¥¶èŒ¶", stay: "é‚£æ‹‰æé•‡é…’åº—æˆ–æ°‘å®¿ï¼ˆå¦‚ï¼šæ–°ç–†æ–‡æ—…é‚£æ‹‰æåº¦å‡é…’åº—ï¼‰" },
                { day: 7, date: "8æœˆ18æ—¥", route: "é‚£æ‹‰æ â†’ ä¼Šå®å¸‚", distance: 260, activities: "ä¸Šåˆæ·±åº¦æ¸¸è§ˆé‚£æ‹‰æâ€œç©ºä¸­è‰åŸâ€çº¿è·¯ã€‚ä¸‹åˆé©±è½¦å‰å¾€ä¼Šå®ï¼Œå‚æ™šå¯æ¼«æ­¥å…­æ˜Ÿè¡—æˆ–å–€èµå…¶æ°‘ä¿—åŒºï¼Œæ„Ÿå—å¼‚åŸŸé£æƒ…ã€‚", food: "ä¼Šå®å¸‚æ˜¯ç¾é£Ÿå¤©å ‚ï¼Œå¯å°è¯•â€œä¸€æŠŠæŠ“â€ã€å†°æ·‡æ·‹ã€å„ç±»çƒ¤è‚‰", stay: "ä¼Šå®å¸‚é…’åº—ï¼ˆå¦‚ï¼šä¼Šå®çªç›ä¸½æ–¯å¤§é¥­åº—ï¼‰" },
                { day: 8, date: "8æœˆ19æ—¥", route: "ä¼Šå® â†’ èµ›é‡Œæœ¨æ¹–", distance: 140, activities: "ä¸Šåˆä»å®¹å‡ºå‘ï¼Œé€”ç»å®ä¼Ÿçš„æœå­æ²Ÿå¤§æ¡¥ã€‚ä¸‹åˆå’Œå‚æ™šåœ¨èµ›é‡Œæœ¨æ¹–è¿›è¡Œç¯æ¹–è‡ªé©¾ï¼Œå¯»æ‰¾æœ€ä½³æœºä½æ‹æ‘„æ—¥è½ã€‚", food: "èµ›é‡Œæœ¨æ¹–å‘¨è¾¹é¤é¥®é€‰æ‹©æœ‰é™ï¼Œå¯æå‰åœ¨ä¼Šå®é‡‡è´­æˆ–åœ¨æ™¯åŒºé™„è¿‘è§£å†³", stay: "èµ›é‡Œæœ¨æ¹–æ™¯åŒºæ—é…’åº—æˆ–æ¯¡æˆ¿" },
                { day: 9, date: "8æœˆ20æ—¥", route: "èµ›é‡Œæœ¨æ¹–æ·±åº¦æ¸¸", distance: 0, activities: "å…¨å¤©åœ¨èµ›é‡Œæœ¨æ¹–ç•”æ”¾æ¾ã€‚æ—©èµ·æ‹æ‘„æ—¥å‡ºï¼Œæ²¿æ¹–è¾¹æ ˆé“å¾’æ­¥ï¼Œäº«å—ä¸èµ¶è·¯çš„æ‚ é—²æ—¶å…‰ã€‚", food: "è‡ªå¤‡æˆ–é…’åº—è§£å†³", stay: "èµ›é‡Œæœ¨æ¹–æ™¯åŒºæ—é…’åº—æˆ–æ¯¡æˆ¿" },
                { day: 10, date: "8æœˆ21æ—¥", route: "èµ›é‡Œæœ¨æ¹– â†’ ä¹Œé²æœ¨é½", distance: 550, activities: "ä¸Šåˆå†æ¬¡æ„Ÿå—èµ›é‡Œæœ¨æ¹–çš„å®é™ï¼Œä¹‹åæ²¿G30è¿éœé«˜é€Ÿè¿”å›ã€‚å‚æ™šæŠµè¾¾ä¹Œé²æœ¨é½ï¼Œå…¥ä½æœºåœºé…’åº—å¹¶åŠç†è¿˜è½¦æ‰‹ç»­ã€‚", food: "åœ¨ä¹Œé²æœ¨é½äº«ç”¨å‘Šåˆ«æ™šå®´", stay: "ä¹Œé²æœ¨é½æœºåœºé™„è¿‘é…’åº—ï¼ˆå¦‚ï¼šä¸½æ«é…’åº—æœºåœºåº—ï¼‰" },
                { day: 11, date: "8æœˆ22æ—¥", route: "ä¹Œé²æœ¨é½å‡ºå‘", distance: 0, activities: "æ¸…æ™¨ä»é…’åº—å‰å¾€èˆªç«™æ¥¼ï¼Œæ­ä¹˜èˆªç­ï¼Œç»“æŸå®Œç¾çš„åŒ—ç–†å²è¯—ä¹‹æ—…ã€‚", food: "æœºåœºç®€é¤", stay: "æ— " }
            ],
            prep: [
                { 
                    title: "æ ¸å¿ƒè£…å¤‡ï¼šä¸ºâ€œä¸€æ—¥å››å­£â€æ‰“åŒ…", 
                    icon: "ğŸ’",
                    content: `
                        <p class="mb-2">æ–°ç–†æ¸©å·®å·¨å¤§ï¼Œåˆ†å±‚ç©¿è¡£æ˜¯å…³é”®ã€‚</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>åŸºç¡€å±‚:</strong> å¸æ¹¿æ’æ±—çš„è´´èº«è¡£ç‰© (å¦‚ç¾åˆ©å¥´ç¾Šæ¯›)ã€‚</li>
                            <li><strong>ä¸­é—´å±‚:</strong> æŠ“ç»’è¡£æˆ–è½»è–„ç¾½ç»’ï¼Œç”¨äºä¿æš–ã€‚</li>
                            <li><strong>å¤–å£³å±‚:</strong> é«˜è´¨é‡çš„é˜²é£é˜²æ°´ç¡¬å£³å†²é”‹è¡£ï¼Œç‹¬åº“å…¬è·¯å’Œå±±åŒºå¿…å¤‡ã€‚</li>
                            <li><strong>å…¶ä»–:</strong> èˆ’é€‚çš„å¾’æ­¥é‹ã€é«˜å€é˜²æ™’éœœ (SPF50+)ã€æ¶¦å”‡è†ã€ä¿æ¹¿éœœã€å¤ªé˜³é•œã€é®é˜³å¸½ã€‚</li>
                        </ul>` 
                },
                { 
                    title: "å¥åº·ä¸æµ·æ‹”é€‚åº”", 
                    icon: "â¤ï¸",
                    content: `
                        <p class="mb-2">éƒ¨åˆ†è·¯æ®µæµ·æ‹”è¾ƒé«˜ï¼Œéœ€æ³¨æ„é¢„é˜²é«˜åã€‚</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>é«˜æµ·æ‹”åŒºåŸŸ:</strong> ç‹¬åº“å…¬è·¯è¾¾å‚ (æœ€é«˜çº¦3300ç±³)ã€å–€çº³æ–¯è§‚é±¼å°ã€‚</li>
                            <li><strong>é¢„é˜²æªæ–½:</strong> é€æ­¥é€‚åº”ï¼Œå¤šå–æ°´ (æ¯æ—¥2-3å‡)ï¼Œé«˜ç¢³æ°´é¥®é£Ÿï¼Œé¿å…å‰§çƒˆè¿åŠ¨ã€‚</li>
                            <li><strong>è¯ç‰©å‡†å¤‡:</strong> å¯å’¨è¯¢åŒ»ç”Ÿæ˜¯å¦éœ€è¦å‡†å¤‡å¸ƒæ´›èŠ¬ï¼ˆç¼“è§£å¤´ç—›ï¼‰ç­‰è¯ç‰©ã€‚</li>
                        </ul>`
                },
                { 
                    title: "åå‹¤ä¸æ•°å­—å‡†å¤‡", 
                    icon: "ğŸš—",
                    content: `
                        <p class="mb-2">ç¡®ä¿è½¦è¾†ã€ç½‘ç»œå’Œè´¢åŠ¡å®‰æ’å¦¥å½“ã€‚</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>è½¦è¾†:</strong> å»ºè®®ç§Ÿç”¨SUVï¼Œè´­ä¹°å…¨é¢çš„è‡ªé©¾æ¸¸ä¿é™©ã€‚ç‹¬åº“å…¬è·¯ä»…é™7åº§åŠä»¥ä¸‹è½¦è¾†é€šè¡Œã€‚</li>
                            <li><strong>ç½‘ç»œ:</strong> åè¿œåœ°åŒºä¿¡å·å¼±ï¼ŒåŠ¡å¿…æå‰ä¸‹è½½ç¦»çº¿åœ°å›¾ã€‚</li>
                            <li><strong>è´¢åŠ¡:</strong> æ··åˆæ”¯ä»˜ã€‚å¤§åŸå¸‚ç”µå­æ”¯ä»˜æ–¹ä¾¿ï¼Œä½†åè¿œåœ°åŒºéœ€å¤‡è¶³ç°é‡‘ã€‚</li>
                            <li><strong>è¯ä»¶:</strong> èº«ä»½è¯ï¼ˆæœ€é‡è¦ï¼Œå®‰æ£€é¢‘ç¹ï¼‰ã€é©¾é©¶è¯ã€å­¦ç”Ÿè¯ï¼ˆé—¨ç¥¨ä¼˜æƒ ï¼‰ã€‚</li>
                        </ul>`
                },
                 { 
                    title: "å®‰å…¨ä¸æ–‡åŒ–ç¤¼ä»ª", 
                    icon: "ğŸ¤",
                    content: `
                        <p class="mb-2">æ€€ç€å°Šé‡ä¸è§‰çŸ¥å»æ—…è¡Œã€‚</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li><strong>å®‰å…¨æ£€æŸ¥:</strong> æ–°ç–†å®‰æ£€ç«™è¾ƒå¤šï¼Œæ˜¯æ­£å¸¸ç¨‹åºï¼Œè¯·åŠ¡å¿…éšèº«æºå¸¦èº«ä»½è¯ã€‚</li>
                            <li><strong>æ–‡åŒ–ç¤¼ä»ª:</strong> æ‹æ‘„äººç‰©å‰è¯·å¾å¾—åŒæ„ï¼›å°Šé‡æ¸…çœŸé¥®é£Ÿä¹ æƒ¯ï¼›å‚è§‚å®—æ•™åœºæ‰€æ³¨æ„ç€è£…ã€‚</li>
                        </ul>`
                }
            ],
            attractions: [
                 { name: "äº”å½©æ»©", category: "è‡ªç„¶é£å…‰", description: "é¢å°”é½æ–¯æ²³ç•”çš„é›…ä¸¹åœ°è²Œï¼Œæ—¥è½æ—¶åˆ†è‰²å½©æœ€ä¸ºç»šçƒ‚ï¼Œå…‰å½±æ•ˆæœæä½³ã€‚", tips: "åŠ¡å¿…åœ¨æ—¥è½æ—¶åˆ†ï¼ˆæ–°ç–†æ—¶é—´çº¦21:30åï¼‰æŠµè¾¾ã€‚", ticket: "æˆäººç¥¨çº¦45å…ƒ" },
                { name: "å–€çº³æ–¯", category: "è‡ªç„¶é£å…‰", description: "è¢«èª‰ä¸ºâ€œç¥çš„åèŠ±å›­â€ï¼Œé›†é›ªå±±ã€æ¹–æ³Šã€æ£®æ—ã€è‰åŸäºä¸€ä½“ã€‚æ ¸å¿ƒæ™¯ç‚¹åŒ…æ‹¬ä¸‰æ¹¾å’Œè§‚é±¼å°ã€‚", tips: "é—¨ç¥¨ä¸¤æ—¥æœ‰æ•ˆï¼Œå»ºè®®ä½åœ¨æ™¯åŒºå†…ä»¥ä¾¿æ‹æ‘„æ™¨æ˜ã€‚å­¦ç”Ÿè¯åŠä»·ã€‚", ticket: "è”ç¥¨çº¦230å…ƒ (å«åŒºé—´è½¦)" },
                { name: "ç¦¾æœ¨æ‘", category: "äººæ–‡æ™¯è§‚", description: "è¢«èª‰ä¸ºâ€œä¸­å›½ç¬¬ä¸€æ‘â€ï¼Œå›¾ç“¦äººèšå±…åœ°ã€‚æ ¸å¿ƒä½“éªŒæ˜¯æ¸…æ™¨çš„æ™¨é›¾å’Œå‚æ™šçš„ç‚ŠçƒŸã€‚", tips: "è§‚æ™¯å¹³å°æ˜¯æ‹æ‘„å…¨æ™¯çš„æœ€ä½³ä½ç½®ï¼Œéœ€è¦æ—©èµ·å ä½ã€‚", ticket: "é—¨ç¥¨+åŒºé—´è½¦çº¦102å…ƒ" },
                { name: "ä¹Œå°”ç¦¾é­”é¬¼åŸ", category: "è‡ªç„¶é£å…‰", description: "å…¸å‹çš„é›…ä¸¹åœ°è²Œï¼Œé£èš€ä½œç”¨å½¢æˆåƒå¥‡ç™¾æ€ªçš„å½¢æ€ï¼Œæ—¥è½æ—¶åˆ†å…‰å½±è¯¡è°²ï¼Œæå…·è§†è§‰å†²å‡»åŠ›ã€‚", tips: "ä¹˜åæ™¯åŒºå°ç«è½¦æ¸¸è§ˆï¼ŒèŠ‚çœä½“åŠ›ã€‚å­¦ç”Ÿè¯åŠä»·ã€‚", ticket: "é—¨ç¥¨+åŒºé—´è½¦çº¦62å…ƒ" },
                { name: "ç‹¬åº“å…¬è·¯", category: "å…¬è·¯æ—…è¡Œ", description: "è´¯ç©¿å¤©å±±å—åŒ—çš„è‹±é›„ä¹‹è·¯ï¼Œæ²¿é€”å¯ä½“éªŒâ€œä¸€æ—¥å››å­£ï¼Œåé‡Œä¸åŒå¤©â€çš„å¥‡æ™¯ï¼Œæ˜¯æ•´ä¸ªåŒ—ç–†ä¹‹é­‚ã€‚", tips: "ä»…é™7åº§åŠä»¥ä¸‹è½¦è¾†ï¼Œé€šè¡Œæ—¶é—´ä¸º9:00-20:00ã€‚è·¯å†µå¤šå˜ï¼Œè°¨æ…é©¾é©¶ã€‚", ticket: "å…è´¹" },
                { name: "é‚£æ‹‰æè‰åŸ", category: "è‰åŸ", description: "ä¸–ç•Œå››å¤§é«˜å±±æ²³è°·è‰åŸä¹‹ä¸€ï¼Œè¢«èª‰ä¸ºâ€œç©ºä¸­è‰åŸâ€ï¼Œæ™¯è‰²è¾½é˜”å£®ç¾ã€‚", tips: "é—¨ç¥¨ä¸¤æ—¥æœ‰æ•ˆï¼Œæ ¸å¿ƒæ˜¯â€œç©ºä¸­è‰åŸâ€çº¿è·¯ã€‚", ticket: "é—¨ç¥¨95å…ƒï¼Œå„çº¿è·¯åŒºé—´è½¦å¦è´­" },
                { name: "èµ›é‡Œæœ¨æ¹–", category: "æ¹–æ³Š", description: "è¢«èª‰ä¸ºâ€œå¤§è¥¿æ´‹çš„æœ€åä¸€æ»´çœ¼æ³ªâ€ï¼Œé«˜å±±æ¹–æ³Šï¼Œæ¹–æ°´æ¸…æ¾ˆæ¹›è“ï¼Œé›ªå±±ç¯ç»•ã€‚", tips: "å¼ºçƒˆæ¨èç¯æ¹–è‡ªé©¾ï¼Œæ—¥å‡ºå’Œæ—¥è½æ—¶åˆ†æ™¯è‰²ç»ç¾ã€‚å­¦ç”Ÿè¯åŠä»·ã€‚", ticket: "é—¨ç¥¨+åŒºé—´è½¦çº¦144å…ƒ" },
                { name: "ä¼Šå®å…­æ˜Ÿè¡—/å–€èµå…¶", category: "äººæ–‡æ™¯è§‚", description: "å……æ»¡å¼‚åŸŸé£æƒ…çš„è¡—åŒºï¼Œè“è‰²çš„å»ºç­‘ã€ç‰¹è‰²çš„é©¬è½¦ã€ç¾å‘³çš„å†°æ·‡æ·‹ï¼Œæ˜¯æ„Ÿå—ä¼ŠçŠæ°‘æ—é£æƒ…çš„å¥½å»å¤„ã€‚", tips: "é€‚åˆæ­¥è¡Œæ¼«æ¸¸ï¼Œå“å°å½“åœ°ç‰¹è‰²ç¾é£Ÿã€‚", ticket: "å…è´¹å¼€æ”¾" }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            const mainNav = document.getElementById('mainNav');
            const contentSections = document.querySelectorAll('.content-section');
            const itineraryContainer = document.getElementById('itinerary');
            const prepContainer = document.getElementById('prep');
            const attractionsContainer = document.getElementById('attractions');
            const budgetContainer = document.getElementById('budget');

            function switchTab(targetId) {
                contentSections.forEach(section => {
                    section.classList.add('hidden');
                });
                document.getElementById(targetId).classList.remove('hidden');

                mainNav.querySelectorAll('button').forEach(button => {
                    button.classList.remove('active');
                    if (button.dataset.target === targetId) {
                        button.classList.add('active');
                    }
                });
            }

            mainNav.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    switchTab(e.target.dataset.target);
                }
            });
            
            function createItinerary() {
                appData.itinerary.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'day-card bg-white rounded-lg shadow-md p-4 cursor-pointer';
                    card.innerHTML = `
                        <div class="flex justify-between items-center">
                            <div>
                                <p class="text-sm text-gray-500">${item.date}</p>
                                <h3 class="text-xl font-bold text-blue-700">ç¬¬ ${item.day} å¤©: ${item.route}</h3>
                                <p class="text-sm text-gray-600">ğŸš— è¡Œè½¦çº¦ ${item.distance} å…¬é‡Œ</p>
                            </div>
                            <div class="text-2xl transform transition-transform duration-300">â–¼</div>
                        </div>
                        <div class="details-content">
                            <div class="border-t my-4"></div>
                            <p><strong>æ ¸å¿ƒè¡Œç¨‹:</strong> ${item.activities}</p>
                            <p><strong>é¤é¥®å»ºè®®:</strong> ${item.food}</p>
                            <p><strong>ä½å®¿å»ºè®®:</strong> ${item.stay}</p>
                        </div>
                    `;
                    itineraryContainer.appendChild(card);
                    
                    card.addEventListener('click', () => {
                        const content = card.querySelector('.details-content');
                        const icon = card.querySelector('.text-2xl');
                        content.classList.toggle('open');
                        icon.classList.toggle('rotate-180');
                    });
                });
            }

            function createPrepSection() {
                const container = document.createElement('div');
                container.className = 'space-y-4';
                appData.prep.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'bg-white rounded-lg shadow-md overflow-hidden';
                    card.innerHTML = `
                        <div class="p-4 cursor-pointer flex justify-between items-center bg-gray-50">
                            <h3 class="text-lg font-semibold text-gray-800"><span class="mr-3">${item.icon}</span>${item.title}</h3>
                            <div class="text-xl transform transition-transform duration-300">â–¼</div>
                        </div>
                        <div class="details-content p-4">
                            ${item.content}
                        </div>
                    `;
                    container.appendChild(card);
                    card.querySelector('.p-4.cursor-pointer').addEventListener('click', () => {
                         const content = card.querySelector('.details-content');
                         const icon = card.querySelector('.text-xl');
                         content.classList.toggle('open');
                         icon.classList.toggle('rotate-180');
                    });
                });
                prepContainer.appendChild(container);
            }

            function createAttractionsSection() {
                const categories = ['å…¨éƒ¨', ...new Set(appData.attractions.map(a => a.category))];
                let html = `<div class="bg-white p-6 rounded-lg shadow-lg">
                                <h2 class="text-2xl font-bold mb-4 text-center text-gray-800">æ ¸å¿ƒæ™¯ç‚¹é€ŸæŸ¥</h2>
                                <div class="flex flex-wrap justify-center gap-2 mb-6">`;
                categories.forEach((cat, index) => {
                    html += `<button class="btn-filter px-4 py-2 text-sm font-medium rounded-full bg-gray-200 text-gray-700 hover:bg-gray-300 ${index === 0 ? 'active' : ''}" data-filter="${cat}">${cat}</button>`;
                });
                html += `</div><div id="attraction-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">`;
                
                appData.attractions.forEach(att => {
                    html += `
                        <div class="attraction-card bg-gray-50 rounded-lg shadow-md p-6 flex flex-col" data-category="${att.category}">
                            <h3 class="text-xl font-bold text-blue-700 mb-2">${att.name}</h3>
                            <p class="text-gray-600 mb-4 flex-grow">${att.description}</p>
                            <div class="border-t pt-4 mt-auto">
                                <p class="text-sm font-semibold text-gray-800">ğŸ’¡ æ¸¸ç©æç¤º: <span class="font-normal text-gray-600">${att.tips}</span></p>
                                <p class="text-sm font-semibold text-gray-800">ğŸ’° é—¨ç¥¨å‚è€ƒ: <span class="font-normal text-gray-600">${att.ticket}</span></p>
                            </div>
                        </div>
                    `;
                });

                html += `</div></div>`;
                attractionsContainer.innerHTML = html;

                const filterButtons = attractionsContainer.querySelectorAll('.btn-filter');
                const attractionCards = attractionsContainer.querySelectorAll('.attraction-card');

                filterButtons.forEach(button => {
                    button.addEventListener('click', () => {
                        const filter = button.dataset.filter;
                        filterButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');

                        attractionCards.forEach(card => {
                            if (filter === 'å…¨éƒ¨' || card.dataset.category === filter) {
                                card.classList.remove('hidden');
                            } else {
                                card.classList.add('hidden');
                            }
                        });
                    });
                });
            }

            function createBudgetSection() {
                budgetContainer.innerHTML = `
                    <div class="bg-white p-6 rounded-lg shadow-lg max-w-2xl mx-auto">
                        <h2 class="text-2xl font-bold mb-2 text-center text-gray-800">è¡Œç¨‹é¢„ç®—ä¼°ç®—å™¨</h2>
                        <p class="text-center text-gray-500 mb-6">æ‹–åŠ¨æ»‘å—ï¼Œä¼°ç®—æ‚¨æœ¬æ¬¡æ—…è¡Œçš„å¤§è‡´èŠ±è´¹ï¼ˆä»…ä¾›å‚è€ƒï¼‰ã€‚</p>
                        
                        <div class="space-y-6">
                            <div>
                                <label for="people" class="font-medium">å‡ºè¡Œäººæ•°</label>
                                <div class="flex items-center gap-4">
                                    <input type="range" id="people" min="1" max="7" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="peopleValue" class="font-bold text-blue-700 w-8 text-center">2 äºº</span>
                                </div>
                            </div>
                             <div>
                                <label for="accommodation" class="font-medium">ä½å®¿æ ‡å‡†</label>
                                <div class="flex items-center gap-4">
                                    <input type="range" id="accommodation" min="1" max="3" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="accommodationValue" class="font-bold text-blue-700 w-20 text-center">èˆ’é€‚</span>
                                </div>
                            </div>
                             <div>
                                <label for="dining" class="font-medium">é¤é¥®æ ‡å‡†</label>
                                <div class="flex items-center gap-4">
                                    <input type="range" id="dining" min="1" max="3" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                    <span id="diningValue" class="font-bold text-blue-700 w-20 text-center">æ ‡å‡†</span>
                                </div>
                            </div>
                        </div>

                        <div class="border-t my-8"></div>

                        <div class="text-center">
                            <p class="text-gray-600 mb-2">é¢„ä¼°æ€»èŠ±è´¹ (ä¸å«å¾€è¿”æœºç¥¨/ç§Ÿè½¦)</p>
                            <p id="totalCost" class="text-4xl font-extrabold text-blue-800">Â¥ 0</p>
                            <p class="text-xs text-gray-400 mt-2">æ­¤ä¼°ç®—åŸºäºè¡Œç¨‹å•ä¸­çš„æ™¯ç‚¹é—¨ç¥¨å’Œé£Ÿå®¿æ¶ˆè´¹æ°´å¹³ï¼Œå®é™…èŠ±è´¹å¯èƒ½å› ä¸ªäººæ¶ˆè´¹ä¹ æƒ¯å’Œå­£èŠ‚æµ®åŠ¨è€Œå¼‚ã€‚</p>
                        </div>
                    </div>
                `;

                const peopleSlider = document.getElementById('people');
                const accommodationSlider = document.getElementById('accommodation');
                const diningSlider = document.getElementById('dining');
                
                const peopleValue = document.getElementById('peopleValue');
                const accommodationValue = document.getElementById('accommodationValue');
                const diningValue = document.getElementById('diningValue');
                const totalCost = document.getElementById('totalCost');

                const accommodationLevels = { 1: 'ç»æµ', 2: 'èˆ’é€‚', 3: 'è±ªå' };
                const diningLevels = { 1: 'ç®€é¤', 2: 'æ ‡å‡†', 3: 'ä¸°ç››' };

                function calculateBudget() {
                    const numPeople = parseInt(peopleSlider.value);
                    const accomLevel = parseInt(accommodationSlider.value);
                    const diningLevel = parseInt(diningSlider.value);

                    peopleValue.textContent = `${numPeople} äºº`;
                    accommodationValue.textContent = accommodationLevels[accomLevel];
                    diningValue.textContent = diningLevels[diningLevel];

                    const baseTicketCost = 45 + 230 + 102 + 62 + 95 + 144; 
                    const accomCostPerPersonPerDay = [200, 400, 800][accomLevel - 1];
                    const diningCostPerPersonPerDay = [100, 200, 350][diningLevel - 1];
                    
                    const totalDays = 10; 
                    
                    const totalAccommodation = accomCostPerPersonPerDay * totalDays * Math.ceil(numPeople / 2);
                    const totalDining = diningCostPerPersonPerDay * totalDays * numPeople;
                    const totalTickets = baseTicketCost * numPeople;

                    const finalCost = totalAccommodation + totalDining + totalTickets;
                    totalCost.textContent = `Â¥ ${finalCost.toLocaleString()}`;
                }

                peopleSlider.addEventListener('input', calculateBudget);
                accommodationSlider.addEventListener('input', calculateBudget);
                diningSlider.addEventListener('input', calculateBudget);
                
                calculateBudget();
            }

            function createChart() {
                const ctx = document.getElementById('drivingChart').getContext('2d');
                const labels = appData.itinerary.map(item => `D${item.day}`);
                const data = appData.itinerary.map(item => item.distance);

                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'æ¯æ—¥è¡Œè½¦å…¬é‡Œæ•°',
                            data: data,
                            backgroundColor: 'rgba(59, 130, 246, 0.5)',
                            borderColor: 'rgba(59, 130, 246, 1)',
                            borderWidth: 1,
                            borderRadius: 4,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    title: function(context) {
                                        const dayIndex = context[0].dataIndex;
                                        return `ç¬¬ ${dayIndex + 1} å¤©: ${appData.itinerary[dayIndex].route}`;
                                    },
                                    label: function(context) {
                                        return `è¡Œè½¦çº¦ ${context.raw} å…¬é‡Œ`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'å…¬é‡Œ (km)'
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
            
            createItinerary();
            createPrepSection();
            createAttractionsSection();
            createBudgetSection();
            createChart();
        });
    </script>
</body>
</html>
